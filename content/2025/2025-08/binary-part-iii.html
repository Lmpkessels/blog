<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Binary part-III</title>
    <link rel="canonical" href="https://lmpkessels.com/content/2025/2025-08/binary-part-iii.html" />
    <meta name="description" content="Learn how binary subtraction works inside your CPU using logic gates like XOR, AND, OR, and NOT. This blog breaks down difference and borrow logic step-by-step " />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Binary subtraction explained" />
    <meta property="og:description" content="Learn how binary subtraction works inside your CPU using logic gates like XOR, AND, OR, and NOT. This blog breaks down difference and borrow logic step-by-step " />
    <meta property="og:url" content="https://lmpkessels.com/content/2025/2025-08/binary-part-iii.html" />
    <meta property="og:image" content="https://lmpkessels.com/assets/binary-part-ii-Luke-blog.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Binary subtraction explained" />
    <meta name="twitter:description" content="Learn how binary subtraction works inside your CPU using logic gates like XOR, AND, OR, and NOT. This blog breaks down difference and borrow logic step-by-step " />
    <meta name="twitter:image" content="https://lmpkessels.com/assets/binary-part-ii-Luke-blog.png" />
    <meta name="twitter:image:alt" content="Binary subtraction: Carry in • Difference • Carry out with truth table, images, and 1s, 2s complement." />
    <meta property="article:published_time" content="2025 Aug 06" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000"
      rel="stylesheet"
    />
    <link rel="icon" href="/assets/lmpk-logo.ico" type="image/x-icon" />
    <!-- IMPORTANT: point this at your published CSS path -->
    <!-- If Netlify publishes /content, keep href="/style.css" and place style.css in /content -->
    <link rel="stylesheet" href="/style.css" />
    <!-- If you really keep it in /dist/style.css, change publish dir or this href accordingly. -->

    <!-- Theme bootstrap -->
    <script>
      const savedTheme = localStorage.getItem("theme");
      const prefersDark =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;
      if (savedTheme === "dark" || (!savedTheme && prefersDark)) {
        document.documentElement.classList.remove("default-mode");
      } else {
        document.documentElement.classList.add("default-mode");
      }
    </script>
  </head>
  <body>
    <div class="page-container">
      <div class="content-wrapper">
        <header>
          <!-- Light / dark toggle -->
          <div class="light-dark-toggle" id="theme-toggle">
            <noscript>Toggle not shown. JavaScript disabled.</noscript>
            <!-- Sun -->
            <svg
              class="toggle-sun"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
              />
            </svg>
            <!-- Toggle -->
            <div class="toggle-wrapper">
              <div class="toggle-knob"></div>
            </div>
            <!-- Moon -->
            <svg
              class="toggle-moon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
              />
            </svg>
          </div>

          <!-- Title + meta -->
          <div class="header-full-post">
            <h1>Binary subtraction explained</h1>
          </div>
          <div class="date-and-link">
            <p class="post-date"><time datetime="2025 Aug 06">2025 Aug 06</time></p>
            <a href="/index.html" class="nav-anchor">All posts</a>
          </div>
        </header>
        <br />
        <br />
        <br />
        <br />

        <!-- >>> The Markdown content goes right here <<< -->
        <main class="post-body"><p>Today you’ll learn how binary subtraction works at the lowest level in your machine.</p>
<p>If you’re not familiar with binary check out <a href="https://www.lukefi.com/content/2025/2025-06/binary-part-I">binary part-I</a> here you’ll find out why binary is used and how it flows through components of your PC.</p>
<h2>The 5 components in binary subtraction</h2>
<p>In binary part-I, you used 5 components input A input B, Carry in, Sum and Carry out.</p>
<p>For binary subtraction Carry in, Sum, and Carry out, become Borrow in, Difference and Borrow out.</p>
<p>Input A. and B, remain a byte.
<br /></p>
<h2>How subtraction happens in your CPU</h2>
<p>You already know your CPU uses logic gates to perform bit-by-bit operations.</p>
<p>In subtraction we use a following combination of gates:</p>
<p>For Difference: ((a XOR b) XOR borrow_in)
And BorrowOut: (NOT(a) AND b) OR (NOT( a XOR b) AND borrow in)
<br /></p>
<h2>Difference explained</h2>
<p>Difference is used to return the output after applying a bit-by-bit operation.</p>
<p>When the operation is done; difference is used to store the remaining byte and give it in return.</p>
<p>ex. When you subtract 17 - 1 using the calculator on your phone, your CPU goes to work, starting at a transistor, each bit flows bit-by-bit through logic gates, each difference is stored and a byte is returned.</p>
<p>Now that we’ve covered what ‘difference’ means, let’s break it down and see how CPUs handle subtraction at the logic gate level.
<br /></p>
<h2>Difference under the hood</h2>
<p>Figure 1.0 displays the difference in a diagram using 2X logic gate XOR this is the exact route your CPU follows when transiting bits.</p>
<figure>
<img
src="/assets/difference_gate.png"
alt="Figure 1.0: Difference logic simulation applying the XOR gate two times"
class="default-img-setting"
/>

<figcaption>
<b>Figure 1.0:</b> Difference logic simulation applying the
XOR gate two times only one, if <code>a &lt; b</code> OR Borrow out.
</figcaption>
</figure>

<p>Bit A and bit B flow through the logic gate XOR which then returns a bit, that bit then flows to the next gate, XOR logic is applied again with Borrow in, and the final output is returned.
<br /></p>
<h2>Why XOR is used in Difference</h2>
<p>XOR is used to compare two bits, it returns 1 if the bits are different and 0 if they’re the same. That’s why it’s ideal for calculating the bitwise difference.</p>
<p>If you’re not familiar with XOR check out <a href="https://www.lukefi.com/content/2025/2025-07/binary-part-ii">binary-part-II</a> where you walk through a bit-by-bit XOR simulation using the basic gates, AND, NOT, and OR.</p>
<p>Now let’s move to borrow out.
<br /></p>
<h2>Why Borrow out is needed</h2>
<p>Because computers only store bits (0s and 1s) , going below 0 will cause underflow, which will cause us to borrow out.</p>
<p>Borrow-out checks whether subtraction at a bit column requires borrowing.</p>
<p>We need to borrow when input A is less than input B at that bit column.
<br /></p>
<h2>How borrow out flows through your CPU</h2>
<p>Figure 1.1 shows Borrow out in a circuit simulation, using for different gates NOT, AND, OR, and XOR.</p>
<figure>
<img
src="/assets/borrow-out-logic-simulation.png"
alt="Figure 1.1: Borrow out logic of a 1-bit full subtraction adder using basic gates. Output is 1 when (NOT (A) AND B) or (CarryIn AND (NOT (A XOR B))) is 1."
class="default-img-setting"
/>

<figcaption>
<b>Figure 1.1:</b> Borrow out logic of a 1-bit full
subtraction adder using basic gates. Output is 1 when (NOT (A)
AND B) or (CarryIn AND (NOT (A XOR B))) is 1.
</figcaption>
</figure>

<p>Starting at the top A flows through the NOT gate to the transistor of the AND gate where B is waiting together they flow through AND and a final bit is returned. If a bit is stored we need to borrow else we follow the next logic.</p>
<p>A and B flow through XOR a bit is returned which then flows through not borrow in is waiting at the transistor of the AND gate where both bits now flow through together, if the return value is 1 bit then we need to borrow if not we don’t.</p>
<p>Now you know how both Difference and Borrow out flow through logic gates lets walk through a table.
<br /></p>
<h2>Full table walkthrough</h2>
<p>Figure 1.2 shows a subtraction full 8 bit adder with all five components. On the left hand side each bit’s index position is shown.</p>
<figure>
  <table>
    <thead>
      <tr>
        <th>Bit Position</th>
        <th>A</th>
        <th>B</th>
        <th>Borrow In</th>
        <th>Difference</th>
        <th>Borrow Out</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Bit_0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
      <tr><td>Bit_1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr>
      <tr><td>Bit_2</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
      <tr><td>Bit_3</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr>
      <tr><td>Bit_4</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td></tr>
      <tr><td>Bit_5</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
      <tr><td>Bit_6</td><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td></tr>
      <tr><td>Bit_7</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td></tr>
    </tbody>
  </table>
  <figcaption><b>Figure 1.2:</b> 8-Bit full subtraction adder.
  </figcaption>
</figure>

<p>For this example let’s take the row of bit_2.</p>
<figure>
  <table class="table-350px">
    <tr>
      <td>Bit_A</td>
      <td>0</td>
    </tr>
    <tr>
      <td>Bit_B</td>
      <td>1</td>
    </tr>
    <tr>
      <td>Borrow in</td>
      <td>0</td>
    </tr>
  </table>
  <figcaption>Table 1: Binary subtraction inputs</figcaption>
</figure>

<p>We start at calculating the difference so we know what to write down at the Bit_2 column's position, so <code>((0 XOR 1) = 1) XOR 0) = 1</code>, and we now know 1 needs to be written down in the column of Bit_2.</p>
<p>Next, we check if a borrow is needed: (NOT 0 = 1) AND 1 = 1. This already signals a borrow, but let’s complete the logic. (0 AND (0 XOR 1)) = 0.</p>
<p>So, 1 OR 0 = 1, this confirms that borrow-out is 1.</p>
<p>Based on the math you’re using the CPU decides if it’s unassigned, if it’s unassigned mathematics then the CPU calls an error called underflow and a borrow out is needed.</p>
<p>If you’re using assigned math you'll simply go below zero using 2's complement.
<br /></p>
<h2>What is 1’s and 2’s complement</h2>
<p>Since memory only stores 0s and 1s, going below 0 directly isn’t possible without causing an error while compiling.</p>
<p>So if we need to represent a negative number, we use 1s complement and 2s complement.</p>
<p>1’s complement flips all bits, e.x. 10101 becomes → 01010, when you look at the pattern you simply see that all 1s have become 0s and all 0s have become 1s.</p>
<p>2’s complement flips all bits + adds 1 bit, e.x. 00110 becomes 11001 then one is added so it becomes 11010.
<br /></p>
<h2>Closure</h2>
<p>If you’re interested in Systems, Rust, Comp-sci, Blockchain, and more follow along. To stay tuned in on the blog check out: <a href="https://x.com/lmpkessels">X/Twitter</a> where I’ll be posting when a blog goes live.</p>
<p>If you want programmed example where i simulate logic using functions check out: <a href="https://github.com/Lmpkessels/alu">ALU</a> where I have built an ALU from the gates up.</p>
<p>That’s it for now, keep in mind, “every program is an ALU at its lowest level” till the next one.</p></main>
      </div>
    </div>

    <!-- Toggle script -->
    <script>
      const toggle = document.getElementById("theme-toggle");
      toggle.addEventListener("click", () => {
        document.documentElement.classList.toggle("default-mode");
        const mode = document.documentElement.classList.contains("default-mode")
          ? "light"
          : "dark";
        localStorage.setItem("theme", mode);
      });
    </script>
  </body>
</html>
